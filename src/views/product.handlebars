<div class="wrapper">
    <div class="homeNavBar">
        <div class="titleHeader">
            <h3 >Higen</h3>
            <img class="headerLogo" src="/img/logoMountain.png" alt="logo pagina">
        </div>
        <div class="menuMovile">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
        </div>
        
        <div class="closeMenuMovile">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </div>

        <nav class="navBar">        
            <button id="homeButton" class="buttonNav">
                <span>Home</span>
            </button>
            <button id="snowboardsButton" class="buttonNav">
                <span>Snowboards</span>
            </button>
            <button id="skiesButton" class="buttonNav">
                <span>Skis</span>
            </button>
            <button id="skipoles" class="buttonNav">
                <span>Ski poles</span>
            </button>
        </nav>
        
        <button data-quantity="0" class="btn-cart">
          <svg class="icon-cart" viewBox="0 0 24.38 30.52" height="30.52" width="24.38" xmlns="http://www.w3.org/2000/svg">
            <title>icon-cart</title>
            <path transform="translate(-3.62 -0.85)" d="M28,27.3,26.24,7.51a.75.75,0,0,0-.76-.69h-3.7a6,6,0,0,0-12,0H6.13a.76.76,0,0,0-.76.69L3.62,27.3v.07a4.29,4.29,0,0,0,4.52,4H23.48a4.29,4.29,0,0,0,4.52-4ZM15.81,2.37a4.47,4.47,0,0,1,4.46,4.45H11.35a4.47,4.47,0,0,1,4.46-4.45Zm7.67,27.48H8.13a2.79,2.79,0,0,1-3-2.45L6.83,8.34h3V11a.76.76,0,0,0,1.52,0V8.34h8.92V11a.76.76,0,0,0,1.52,0V8.34h3L26.48,27.4a2.79,2.79,0,0,1-3,2.44Zm0,0"></path>
          </svg>
          <span class="quantity"></span>
        </button>
    </div>

    <section class="productDetails animate__animated animate__fadeInUp">
        <div class="product animate__animated animate__fadeInRightBig">
            <div class="photos">
                <div class="changePhoto">
                    <div class="squarePhoto active" style="background-image: url('../img/products/{{product.imageFront}}'); background-size: cover; background-position: center; background-repeat: no-repeat;" onclick="updateBigPhoto(this, '{{product.imageFront}}')">
                    </div>
                    <div class="squarePhoto" style="background-image: url('../img/products/{{product.imageBack}}'); background-size: cover; background-position: center; background-repeat: no-repeat;" onclick="updateBigPhoto(this, '{{product.imageBack}}')">
                    </div>
                </div>
                <div class="bigPhoto zoomable" id="bigPhoto">
                    <img id="bigPhotoImg" src="../img/products/{{product.imageFront}}" alt="img product">
                </div>
            </div>

            <div class="details animate__animated animate__delay-1s animate__fadeInRightBig">
                <h5 id="productId" style="display: none;">{{product._id}}</h5>
                <div class="title">
                    <h2>{{product.title}}</h2>
                </div>
                <div class="price">
                    <h3>${{product.price}}</h3>
                    <div class="ratingTop">
                        <h6> {{totalReviews}} reviews</h6>
                    </div>
                </div>
                <div class="description">
                    <p>
                        {{product.description}}
                    </p>
                </div>
                {{#if product.stock}}
                    {{#ifEquals product.stock 0}}
                        <p><strong>Out of stock</strong></p>
                    {{else}}
                        <p><strong>Stock: {{product.stock}}</strong></p>
                        <button class="CartBtn" onclick="addToCart('{{product._id}}')">
                            <span class="IconContainer">
                                <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512" fill="rgb(17, 17, 17)" class="cart"><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"></path></svg>
                            </span>
                            <p class="text">Add to Cart</p>
                        </button>
                    {{/ifEquals}}
                {{else}}
                    <p><strong>Out of stock</strong></p>
                {{/if}}

                <div class="spinner">
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                    <div class="spinner-blade"></div>
                </div>
                
                <div class="success">
                    <div class="success__icon">
                    <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m12 1c-6.075 0-11 4.925-11 11s4.925 11 11 11 11-4.925 11-11-4.925-11-11-11zm4.768 9.14c.0878-.1004.1546-.21726.1966-.34383.0419-.12657.0581-.26026.0477-.39319-.0105-.13293-.0475-.26242-.1087-.38085-.0613-.11844-.1456-.22342-.2481-.30879-.1024-.08536-.2209-.14938-.3484-.18828s-.2616-.0519-.3942-.03823c-.1327.01366-.2612.05372-.3782.1178-.1169.06409-.2198.15091-.3027.25537l-4.3 5.159-2.225-2.226c-.1886-.1822-.4412-.283-.7034-.2807s-.51301.1075-.69842.2929-.29058.4362-.29285.6984c-.00228.2622.09851.5148.28067.7034l3 3c.0983.0982.2159.1748.3454.2251.1295.0502.2681.0729.4069.0665.1387-.0063.2747-.0414.3991-.1032.1244-.0617.2347-.1487.3236-.2554z" fill="#393a37" fill-rule="evenodd"></path></svg>
                    </div>
                    <div class="success__title">Product added to cart</div>
                    <div class="success__close"><svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m15.8333 5.34166-1.175-1.175-4.6583 4.65834-4.65833-4.65834-1.175 1.175 4.65833 4.65834-4.65833 4.6583 1.175 1.175 4.65833-4.6583 4.6583 4.6583 1.175-1.175-4.6583-4.6583z" fill="#393a37"></path></svg></div>
                </div>
            </div>
        </div>
        <div class="reviewsContainer">
            <div class="reviewTitle">
                <h4>Reviews.</h4>
            </div>
            <div class="reviews">
                {{#if reviews.length}}
                    <ul class="eachReview">
                        {{#each reviews}}
                            <div class="divReviewContent">
                                <p>{{starRating this.rating}}</p>
                                <p>{{this.message}}</p>
                            </div>
                        {{/each}}

                    </ul>
                    <p class="averageRating">Average Rating: {{averageRating}}/5</p>
                {{else}}
                    <p>No reviews yet.</p>
                {{/if}}
            </div>


            <div class="writeReview">
                <div class="rating">
                    <input type="radio" id="star5" name="rating" value="5">
                    <label for="star5"></label>
                    <input type="radio" id="star4" name="rating" value="4">
                    <label for="star4"></label>
                    <input type="radio" id="star3" name="rating" value="3">
                    <label for="star3"></label>
                    <input type="radio" id="star2" name="rating" value="2">
                    <label for="star2"></label>
                    <input type="radio" id="star1" name="rating" value="1">
                    <label for="star1"></label>
                </div>

                <div class="messageReview">
                    <input type="text" name="text" id="reviewText" class="input" placeholder="Write your review...">
                </div>

                <div class="sendReview" id="sendReviewBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
                    </svg>
                </div>
            </div>
        </div>

        <div class="similarProduct">
            <h4>Similar Products.</h4>
            <div class="similarProductsShow">
                {{#each similarProducts}}
                    <div class="cardProduct" style="background-image: url('../img/products/{{imageFront}}'); background-size: cover; background-position: center; background-repeat: no-repeat;">
                        <div class="card-details">
                            <p class="text-title">{{title}}</p>
                            <p class="text-body">{{price}} usd</p>
                        </div>
                        <a class="card-button" href="/product/{{_id}}">More info</a>
                    </div>
                {{/each}}
            </div>
        </div>
    </section>


    <footer>
        <div class="direccionFooter">
            <h3 style="color: white;">+5491165480369</h3>
            <h3 style="color: white;">Mateoivanovich43@gmail.com</h3>
            <h3 style="color: white;">Buenos Aires, Argentina</h3>

        </div>
        <div class="footerDerechos" ><h3 style="color: white;">© 2023 Higen. All rights reserved. - Mateo Ivanovich</h3></div>
        <div>
            <button class="buttonLinkedin">
                <a href="https://www.linkedin.com/in/mateo-ivanovich-232941227/" target="_blank" class="no-link-style">
                    <svg viewBox="55.005 23.8289 333.061 333.0491" width="65" height="65" xmlns="http://www.w3.org/2000/svg">
                <path id="Path_2520" data-name="Path 2520" d="M 338.789 307.609 L 289.44 307.609 L 289.44 230.326 C 289.44 211.898 289.111 188.174 263.773 188.174 C 238.07 188.174 234.138 208.253 234.138 228.985 L 234.138 307.604 L 184.788 307.604 L 184.788 148.679 L 232.164 148.679 L 232.164 170.398 L 232.827 170.398 C 242.491 153.881 260.452 144.017 279.57 144.726 C 329.587 144.726 338.809 177.626 338.809 220.426 L 338.789 307.609 Z M 129.106 126.955 C 107.063 126.96 93.281 103.098 104.298 84.006 C 115.319 64.909 142.877 64.909 153.904 83.996 C 156.418 88.35 157.739 93.29 157.739 98.312 C 157.744 114.13 144.923 126.955 129.106 126.955 M 153.781 307.609 L 104.38 307.609 L 104.38 148.679 L 153.781 148.679 L 153.781 307.609 Z M 363.391 23.851 L 79.582 23.851 C 66.17 23.702 55.169 34.446 55.005 47.858 L 55.005 332.844 C 55.164 346.266 66.165 357.02 79.582 356.876 L 363.391 356.876 C 376.839 357.046 387.881 346.292 388.066 332.844 L 388.066 47.837 C 387.876 34.4 376.834 23.656 363.391 23.831" fill="#0b65c2" style="" transform="matrix(1, 0, 0, 1, -7.105427357601002e-15, -3.552713678800501e-15)"></path>
                </svg>
                </a>
            </button><br>
        </div>
    </footer>
</div>

<script src="/js/product.js"></script>